<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geometry Guesser</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.css" />
    <!-- bootstrap -->
    <link rel="stylesheet" href="https://unpkg.com/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <script src="https://unpkg.com/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <!-- font awesome cdn link-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-json.min.js"></script>
    <link rel="stylesheet" href="public/css/main.css" />
</head>
<body>
    <div class="mobile-bar">
        <div class="mobile-title">Spatial Workbench</div>
        <div class="mobile-actions">
            <button class="mobile-tab" data-view="map">Map</button>
            <button class="mobile-tab" data-view="tools">Tools</button>
            <button class="mobile-tab" data-view="layers">Layers</button>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row h-100">
            <!-- Table of contents (left pane) -->
            <div id="toc" class="col-md-2">
                <div class="toc-header">
                    <h4><i class="fas fa-list-ul me-2"></i>Contents</h4>
                </div>
                <div id="tocContent" class="mt-3"></div>
            </div>

            <!-- Map (center pane) -->
            <div id="map" class="col-md-8"></div>

            <!-- Sidebar (right pane) -->
            <div id="sidebar" class="col-md-2">
                <div id="toolSelection">
                    <div class="sidebar-header">
                        <h4><i class="fas fa-tools me-2"></i>Tools</h4>
                    </div>
                    <div id="messages" class="mt-3"></div>
                </div>
                
                <div id="toolDetails" class="hidden">
                    <div class="d-flex align-items-center mb-3">
                        <button id="backButton" class="btn-icon">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h4 id="toolName" tool="" class="hidden mb-0 ms-3"></h4>
                    </div>
                    <hr>
                    <div id="toolContent">
                        <div id="toolParameters" class="tool-params"></div>
                    </div>
                    <div id="statusMessage" role="alert">
                        <p id="statusMessageText" class="alert" role="alert"></p>
                    </div>
                </div>

                <div id="drawingData" class="hidden expander">
                    <div class="drawing-header">
                        <h4><i class="fas fa-pencil-alt me-2"></i>Drawing Data</h4>
                    </div>
                    <div id="messages" class="mt-3"></div>
                    <hr>
                    <pre id="DataContent" class="language-json"></pre>
                </div>
            </div>
        </div>
    </div>

    <!-- Leaflet and Turf.js libraries -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@turf/turf"></script>
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>

    <!-- Main application script -->
    <script src="public/dist/bundle.js"></script>
    <script src="public/js/mobile.js"></script>
</body>
</html>
